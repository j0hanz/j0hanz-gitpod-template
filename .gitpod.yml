image:
  file: .gitpod.Dockerfile
tasks:
  - name: Setup Environment
    init: |
      echo "======================================"
      echo "üöÄ Preparing Workspace Environment üöÄ"
      echo "======================================"
      echo "üîÑ Please wait while the setup is in progress..."
      sleep 3
      echo "üöÄ Running environment check script (check_installations.sh)..."
      chmod +x .vscode/check_installations.sh
      if .vscode/check_installations.sh; then
        echo "‚úÖ Environment check passed!"
      else
        echo "‚ùå Environment check failed! Please review the issues above."
        exit 1
      fi
      sleep 1
      clear
      echo "üîÑ Installing VS Code extensions from .vsix files..."
      if compgen -G ".vscode/extensions/*.vsix" > /dev/null; then
        for file in .vscode/extensions/*.vsix; do
          echo "üì¶ Installing extension: $file"
          if command -v code &> /dev/null && code --install-extension "$file"; then
            echo "‚úÖ Successfully installed: $file"
          else
            echo "‚ùå Failed to install: $file. Please check the file or try installing manually."
          fi
        done
      else
        echo "‚ö†Ô∏è No .vsix files found in .vscode/extensions. Skipping installation."
      fi
      sleep 1
      clear
      echo "üîç Checking for requirements.txt file..."
      if [ -f requirements.txt ]; then
        echo "üìÑ requirements.txt found. Installing dependencies..."
        if pip install -r requirements.txt; then
          echo "‚úÖ Dependencies from requirements.txt installed successfully!"
        else
          echo "‚ùå Failed to install dependencies. Please check requirements.txt for errors."
          exit 1
        fi
      else
        echo "‚ö†Ô∏è requirements.txt not found. Skipping dependency installation."
      fi
      sleep 1
      clear
      echo "======================================"
      echo "‚úÖ Setup Complete! Your environment is ready. ‚úÖ"
      echo "======================================"
vscode:
  extensions:
    - ms-python.debugpy
    - PKief.material-icon-theme
    - charliermarsh.ruff
    - ms-python.python
    - ms-toolsai.jupyter
    - ms-toolsai.jupyter-keymap
    - batisteo.vscode-django
    - esbenp.prettier-vscode
    - christian-kohler.path-intellisense
    - yzhang.markdown-all-in-one
    - GitHub.github-vscode-theme
